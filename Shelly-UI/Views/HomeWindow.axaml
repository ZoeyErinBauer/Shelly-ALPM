<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:avalonia="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
             xmlns:viewModels="clr-namespace:Shelly_UI.ViewModels"
             xmlns:models="clr-namespace:Shelly_UI.Models"
             xmlns:lang="clr-namespace:Shelly_UI.Assets"
             x:Class="Shelly_UI.Views.HomeWindow"
             x:DataType="viewModels:HomeViewModel"
             x:CompileBindings="True">
    <Border CornerRadius="12" ClipToBounds="True" Background="{DynamicResource SystemChromeLowColor}">
        <UniformGrid Columns="2" Background="{DynamicResource SystemChromeLowColor}">
            <Border Grid.Column="0"
                    Background="{DynamicResource SystemChromeLowColor}"
                    CornerRadius="12"
                    BorderBrush="{DynamicResource SystemBaseLowColor}"
                    BorderThickness="1"
                    Margin="8,4,4,4">
                <DockPanel>
                    <TextBlock DockPanel.Dock="Top" Text="{x:Static lang:Resources.ArchNews}" FontWeight="Bold"
                               FontSize="18" Margin="10, 5,0 ,0">
                    </TextBlock>
                    <ListBox Grid.Row="1" ItemsSource="{Binding FeedItems}"
                             Background="Transparent"
                             BorderThickness="0"
                             ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                            
                                <StackPanel HorizontalAlignment="Stretch">
                                    <TextBlock Text="{Binding Title}"
                                               FontWeight="Bold"
                                               FontSize="16"
                                               TextWrapping="Wrap" />
                                    <TextBlock Text="{Binding PubDate}"
                                               FontWeight="Bold"
                                               FontSize="10"
                                               TextWrapping="Wrap" />
                                    <TextBlock Text="{Binding Description}"
                                               Foreground="{DynamicResource SystemBaseMediumColor}"
                                               TextWrapping="Wrap"
                                               Margin="5,5,0,0" />
                                </StackPanel>
                                 
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                        <ListBox.Styles>
                            <Style Selector="ListBoxItem">
                                <Setter Property="Padding" Value="6" />
                                <Setter Property="CornerRadius" Value="8" />
                                <Setter Property="Margin" Value="0,2" />
                            </Style>
                        </ListBox.Styles>
                    </ListBox>
                </DockPanel>
            </Border>
            <Grid RowDefinitions="*,Auto">
                <Border
                    Background="{DynamicResource SystemChromeLowColor}"
                    CornerRadius="12"
                    BorderBrush="{DynamicResource SystemBaseLowColor}"
                    BorderThickness="1"
                    Margin="4,4,8,4">
                    <DockPanel>

                        <TextBlock DockPanel.Dock="Top" Text="{x:Static lang:Resources.InstalledPackages}"
                                   FontSize="18"
                                   FontWeight="Bold"
                                   Margin="10, 5,0 ,0" />

                        <ListBox ItemsSource="{Binding InstalledPackages}" Background="Transparent" BorderThickness="0">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Grid ColumnDefinitions="Auto, *">
                                        <StackPanel VerticalAlignment="Center">
                                            <TextBlock Text="{Binding Name}" FontWeight="SemiBold" />
                                            <TextBlock Text="{Binding Version}" FontSize="11" Foreground="#999999" />
                                            <TextBlock Text="140 MiB" FontSize="11" Foreground="#999999" />
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                                            <TextBlock Text=""  FontSize="11" />
                                            <TextBlock Text="cachyos-znver4"  FontSize="11" Foreground="#999999" />
                                            <TextBlock Text="x86_64_v4"  FontSize="11" Foreground="#999999" />
                                        </StackPanel>
                                    </Grid>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                            <ListBox.Styles>
                                <Style Selector="ListBoxItem">
                                    <Setter Property="Padding" Value="6,0" />
                                    <Setter Property="CornerRadius" Value="8" />
                                    <Setter Property="Margin" Value="2,2" />
                                </Style>
                            </ListBox.Styles>
                        </ListBox>
                    </DockPanel>
                </Border>
                <Border Grid.Row="1"
                        Background="{DynamicResource SystemChromeLowColor}"
                        CornerRadius="12"
                        BorderBrush="{DynamicResource SystemBaseLowColor}"
                        BorderThickness="1"
                        Margin="4,4,8,4">
                    <StackPanel>
                        <TextBlock Text="Package Dashboard" FontSize="18" FontWeight="Bold"
                                   Margin="10, 5,0 ,0" />
                        <Border Width="240"
                                Padding="8">
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock FontSize="20"
                                           FontWeight="SemiBold"
                                           HorizontalAlignment="Center"
                                           Text="Total Packages" />
                                <TextBlock FontSize="73"
                                           FontWeight="Light"
                                           HorizontalAlignment="Center"
                                           Margin="0,8,0,8"
                                           Text="{Binding TotalPackages}" />
                                <Border Height="3"
                                        Background="{DynamicResource SystemBaseLowColor}"
                                        Margin="0,0,0,0"
                                        HorizontalAlignment="Stretch" />
                                <TextBlock
                                    FontSize="15"
                                    HorizontalAlignment="Center"
                                    Margin="0,15,0,4"
                                    Text="Up to date packages:" />
                                <TextBlock
                                    Text="{Binding GaugeLabel}"
                                    FontSize="28"
                                    HorizontalAlignment="Center"
                                    FontWeight="SemiBold" />
                            </StackPanel>
                        </Border>
                        <Button Margin="10" Padding="8" VerticalAlignment="Bottom" HorizontalAlignment="Stretch"
                                Content="Export Sync file" Command="{Binding SyncExport}" />
                    </StackPanel>

                </Border>
            </Grid>
        </UniformGrid>
    </Border>
</UserControl>